â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           GOOGLE OAUTH SETUP CHECKLIST                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ GOOGLE CLOUD CONSOLE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… OAuth Client Created
   Client ID: 477173705324-j441dqvann275pkv6tnv8omt2kdg0rsu.apps.googleusercontent.com
   Client Secret: GOCSPX-****6KWz

â¬œ Redirect URIs Added
   â†’ http://localhost:8080/api/auth/google/callback
   â†’ http://localhost:3000/auth/google/callback
   
   How: https://console.cloud.google.com/apis/credentials
        Click your OAuth client â†’ Add URIs â†’ Save

â¬œ APIs Enabled
   â†’ Cloud Vision API
   â†’ Cloud Translation API
   â†’ Cloud Speech-to-Text API
   â†’ Cloud Text-to-Speech API
   â†’ Cloud Natural Language API
   
   How: https://console.cloud.google.com/apis/library

â¬œ OAuth Consent Screen Configured
   â†’ App name: AgentForEdu
   â†’ User support email: your-email@example.com
   â†’ Test users added (your email)
   
   How: https://console.cloud.google.com/apis/credentials/consent

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”§ BACKEND CONFIGURATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â¬œ Generate Encryption Key
   Command: python generate-encryption-key.py
   Copy the key shown

â¬œ Update .env File
   File: backend/PythonService/.env
   
   Update these lines:
   GOOGLE_OAUTH_CLIENT_SECRET=YOUR_ACTUAL_SECRET_HERE
   ENCRYPTION_KEY=YOUR_GENERATED_KEY_HERE

â¬œ Run Database Migration
   File: backend/SpringService/agentforedu/database_migration_google_oauth.sql
   
   Option A: pgAdmin/DBeaver
   - Open file
   - Copy content
   - Execute in SQL editor
   
   Option B: Command line
   psql -U postgres -d agentforedu -f database_migration_google_oauth.sql

â¬œ Install Python Dependencies
   cd backend/PythonService
   pip install cryptography requests

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¨ FRONTEND INTEGRATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â¬œ GoogleConnectButton Component Created
   File: fronend_web/src/components/GoogleConnectButton.tsx
   Status: âœ… Already created

â¬œ Add to Settings Page
   File: fronend_web/src/pages/SettingsPage.tsx
   
   Add this code:
   
   import GoogleConnectButton from '../components/GoogleConnectButton';
   
   // Inside component:
   <GoogleConnectButton 
     userId={currentUser.id}
     onConnectionChange={(connected) => {
       console.log('Google connected:', connected);
     }}
   />

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš€ START SERVICES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â¬œ Start All Services
   Command: .\start-with-oauth.ps1
   
   Or manually:
   Terminal 1: cd backend/SpringService/agentforedu && .\mvnw.cmd spring-boot:run
   Terminal 2: cd backend/PythonService && python main.py
   Terminal 3: cd backend/PythonService && python google_oauth_service.py
   Terminal 4: cd backend/PythonService && python google_cloud_service_oauth.py
   Terminal 5: cd fronend_web && npm run dev

â¬œ Verify Services Running
   â†’ Spring Boot:        http://localhost:8080
   â†’ Python AI:          http://localhost:8000
   â†’ OAuth Service:      http://localhost:8003
   â†’ Google Cloud OAuth: http://localhost:8004
   â†’ Frontend:           http://localhost:3000

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ§ª TESTING
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â¬œ Test OAuth Flow
   1. Open: http://localhost:3000
   2. Login to app
   3. Go to Settings page
   4. Click "Connect Google Account"
   5. Popup opens â†’ Select Google account
   6. Click "Allow"
   7. Popup closes â†’ Status shows "Connected" âœ…

â¬œ Test Google Cloud Features
   In chat, try:
   â†’ "Dá»‹ch sang tiáº¿ng Anh: Xin chÃ o"
   â†’ "PhÃ¢n tÃ­ch cáº£m xÃºc: TÃ´i ráº¥t vui"
   
   Response should show: âœ… Using your OAuth token

â¬œ Test Swagger UI
   â†’ http://localhost:8003/docs
   â†’ Try: GET /api/oauth/google/status/{user_id}

â¬œ Check Database
   SELECT username, google_connected, google_email 
   FROM users 
   WHERE google_connected = TRUE;

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š VERIFICATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â¬œ User can connect Google account
â¬œ User can disconnect Google account
â¬œ Token auto-refreshes when expired
â¬œ Google Cloud APIs work with user's token
â¬œ Fallback to server API key if user not connected
â¬œ No errors in console logs

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ‰ COMPLETION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
When all boxes are checked:
âœ… OAuth is fully functional
âœ… Users can use their own Google Cloud quota
âœ… No cost for you
âœ… Unlimited scalability

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š DOCUMENTATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Quick Guide:    QUICK_OAUTH_SETUP.md
Detailed Guide: SETUP_GOOGLE_OAUTH.md
Overview:       GOOGLE_OAUTH_SETUP_GUIDE.md

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ†˜ TROUBLESHOOTING
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Problem: "OAuth not configured"
â†’ Check .env has GOOGLE_OAUTH_CLIENT_ID and GOOGLE_OAUTH_CLIENT_SECRET

Problem: "Redirect URI mismatch"
â†’ Check redirect URIs in Google Console match .env

Problem: "Invalid client"
â†’ Check Client ID and Client Secret are correct

Problem: Popup blocked
â†’ Allow popups for localhost:3000

Problem: Token expired
â†’ Should auto-refresh. If not, disconnect and reconnect.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ NEXT STEPS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
After OAuth is working:
1. Test with multiple users
2. Monitor usage in database
3. Add usage analytics
4. Prepare for production deployment
5. Publish OAuth consent screen

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Last Updated: 2024-12-09
